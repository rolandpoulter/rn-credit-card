{"version":3,"sources":["index.tsx"],"names":["CARDS","visa","icon","require","animation","mastercard","alternativeAnimation","discover","CardIcon","props","LottieView","LibraryContext","cardNumber","card","cardValidator","number","animRef","node","play","data","type","styles","lottie","StyleSheet","create","width","height"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AAYA,MAAMA,KAA2B,GAAG;AAClCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEC,OAAO,CAAC,qBAAD,CADT;AAEJC,IAAAA,SAAS,EAAED,OAAO,CAAC,oBAAD;AAFd,GAD4B;AAKlCE,EAAAA,UAAU,EAAE;AACVH,IAAAA,IAAI,EAAEC,OAAO,CAAC,2BAAD,CADH;AAEVC,IAAAA,SAAS,EAAED,OAAO,CAAC,0BAAD;AAFR,GALsB;AASlC,sBAAoB;AAClBD,IAAAA,IAAI,EAAEC,OAAO,CAAC,qBAAD,CADK;AAElBC,IAAAA,SAAS,EAAED,OAAO,CAAC,oBAAD,CAFA;AAGlBG,IAAAA,oBAAoB,EAAEH,OAAO,CAAC,wBAAD;AAHX,GATc;AAclCI,EAAAA,QAAQ,EAAE;AACRL,IAAAA,IAAI,EAAEC,OAAO,CAAC,yBAAD,CADL;AAERC,IAAAA,SAAS,EAAED,OAAO,CAAC,wBAAD;AAFV;AAdwB,CAApC;AAoBA;;AAEA,MAAMK,QAAyB,GAAIC,KAAD,IAAW;AAC3C,QAAM;AAAEC,IAAAA;AAAF,MAAiB,uBAAWC,uBAAX,CAAvB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAiBH,KAAvB;;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAWC,uBAAcC,MAAd,CAAqBH,UAArB,CAAjB;;AAEA,QAAMI,OAAO,GAAG,wBAAaC,IAAD,IAAU;AACpC,QAAIA,IAAI,KAAK,IAAb,EAAmB;AACjBA,MAAAA,IAAI,CAACC,IAAL;AACD;AACF,GAJe,EAIb,EAJa,CAAhB;AAKA,QAAMC,IAAU,GAAGnB,KAAK,CAAC,CAAAa,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEO,IAAN,KAAc,CAAC,CAAhB,CAAxB;AAEA,MAAI,CAACD,IAAL,EAAW,OAAO,IAAP;;AAEX,MAAI,CAACT,UAAL,EAAiB;AACf;AACA,wBAAO,6BAAC,kBAAD;AAAO,MAAA,KAAK,EAAEW,MAAM,CAACnB,IAArB;AAA2B,MAAA,MAAM,EAAEiB,IAAI,CAACjB;AAAxC,MAAP;AACD;;AAED,sBACE,6BAAC,UAAD;AACE,IAAA,GAAG,EAAEc,OADP;AAEE,IAAA,KAAK,EAAEK,MAAM,CAACC,MAFhB;AAGE,IAAA,MAAM,EAAEH,IAAI,CAACf,SAHf;AAIE,IAAA,IAAI,EAAE;AAJR,IADF;AAQD,CA3BD;;AA6BA,MAAMiB,MAAM,GAAGE,wBAAWC,MAAX,CAAkB;AAC/BtB,EAAAA,IAAI,EAAE;AACJuB,IAAAA,KAAK,EAAE,EADH;AAEJC,IAAAA,MAAM,EAAE;AAFJ,GADyB;AAK/BJ,EAAAA,MAAM,EAAE;AACNG,IAAAA,KAAK,EAAE,EADD;AAENC,IAAAA,MAAM,EAAE;AAFF;AALuB,CAAlB,CAAf;;eAWelB,Q","sourcesContent":["import React, { useCallback, useContext } from 'react'\nimport { Image, StyleSheet } from 'react-native'\nimport cardValidator from 'card-validator'\nimport LibraryContext from '../../LibraryContext'\n\ntype Props = {\n  cardNumber: string\n}\n\ntype Card = {\n  icon: any\n  animation: any\n  alternativeAnimation?: any\n}\n\nconst CARDS: Record<string, Card> = {\n  visa: {\n    icon: require('./icons/visa.png.js'),\n    animation: require('./lottie/visa.json'),\n  },\n  mastercard: {\n    icon: require('./icons/mastercard.png.js'),\n    animation: require('./lottie/mastercard.json'),\n  },\n  'american-express': {\n    icon: require('./icons/amex.png.js'),\n    animation: require('./lottie/amex.json'),\n    alternativeAnimation: require('./lottie/amexBlue.json'),\n  },\n  discover: {\n    icon: require('./icons/discover.png.js'),\n    animation: require('./lottie/discover.json'),\n  },\n}\n\n\n\nconst CardIcon: React.FC<Props> = (props) => {\n  const { LottieView } = useContext(LibraryContext)\n  const { cardNumber } = props\n  const { card } = cardValidator.number(cardNumber)\n\n  const animRef = useCallback((node) => {\n    if (node !== null) {\n      node.play()\n    }\n  }, [])\n  const data: Card = CARDS[card?.type || -1]\n\n  if (!data) return null\n\n  if (!LottieView) {\n    \n    return <Image style={styles.icon} source={data.icon} />\n  }\n\n  return (\n    <LottieView\n      ref={animRef}\n      style={styles.lottie}\n      source={data.animation}\n      loop={false}\n    />\n  )\n}\n\nconst styles = StyleSheet.create({\n  icon: {\n    width: 48,\n    height: 48,\n  },\n  lottie: {\n    width: 36,\n    height: 36,\n  },\n})\n\nexport default CardIcon\n"]}