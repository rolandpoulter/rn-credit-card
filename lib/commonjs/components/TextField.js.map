{"version":3,"sources":["TextField.tsx"],"names":["TextField","React","forwardRef","props","ref","label","errorText","value","endEnhancer","style","onBlur","onFocus","disabled","restOfProps","inputColors","fonts","overrides","LibraryContext","errored","errorColor","focused","focusedColor","regular","regularColor","isFocused","setIsFocused","focusAnim","Animated","Value","current","timing","toValue","duration","easing","Easing","bezier","useNativeDriver","start","color","styles","input","fontFamily","opacity","borderColor","event","focus","labelContainer","transform","scale","interpolate","inputRange","outputRange","translateY","translateX","inputLabel","enhancerContainer","error","StyleSheet","create","padding","borderWidth","borderRadius","fontSize","position","paddingHorizontal","backgroundColor","top","right","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react'\nimport {\n  TextInput,\n  StyleSheet,\n  View,\n  Animated,\n  Easing,\n  TouchableWithoutFeedback,\n} from 'react-native'\nimport Text from './Text'\nimport LibraryContext from '../LibraryContext'\n\ntype Props = React.ComponentProps<typeof TextInput> & {\n  label: string\n  errorText?: string | null\n  endEnhancer?: React.ReactNode\n  disabled: boolean | null\n}\n\nconst TextField = React.forwardRef<TextInput, Props>((props, ref) => {\n  const {\n    label,\n    errorText,\n    value,\n    endEnhancer,\n    style,\n    onBlur,\n    onFocus,\n    disabled,\n    ...restOfProps\n  } = props\n  const { inputColors = {}, fonts, overrides } = useContext(LibraryContext)\n  const {\n    errored: errorColor = '#B00020',\n    focused: focusedColor = '#080F9C',\n    regular: regularColor = '#B9C4CA',\n  } = inputColors\n\n  const [isFocused, setIsFocused] = useState(false)\n\n  const focusAnim = useRef(new Animated.Value(0)).current\n\n  useEffect(() => {\n    Animated.timing(focusAnim, {\n      toValue: isFocused || !!value ? 1 : 0,\n      duration: 150,\n      easing: Easing.bezier(0.4, 0, 0.2, 1),\n      useNativeDriver: true,\n    }).start()\n  }, [focusAnim, isFocused, value])\n\n  let color = isFocused ? focusedColor : regularColor\n  if (errorText) {\n    color = errorColor\n  }\n\n  return (\n    <View style={style}>\n      <TextInput\n        style={[\n          styles.input,\n          {\n            fontFamily: fonts.regular,\n            opacity: disabled ? 0.1 : 1,\n          },\n          overrides.input,\n          {\n            borderColor: color,\n          },\n        ]}\n        // disabled={disabled}\n        ref={ref}\n        {...restOfProps}\n        value={value}\n        onBlur={(event) => {\n          if (disabled) {\n            return;\n          }\n          setIsFocused(false)\n          onBlur?.(event)\n        }}\n        onFocus={(event) => {\n          if (disabled) {\n            return;\n          }\n          setIsFocused(true)\n          onFocus?.(event)\n        }}\n      />\n      <TouchableWithoutFeedback\n        onPress={() => {\n          if (disabled) {\n            return;\n          }\n          // @ts-ignore\n          ref?.current?.focus()\n        }}\n      >\n        <Animated.View\n          style={[\n            styles.labelContainer,\n            {\n              transform: [\n                {\n                  scale: focusAnim.interpolate({\n                    inputRange: [0, 1],\n                    outputRange: [1, 0.75],\n                  }),\n                },\n                {\n                  translateY: focusAnim.interpolate({\n                    inputRange: [0, 1],\n                    outputRange: [24, -12],\n                  }),\n                },\n                {\n                  translateX: focusAnim.interpolate({\n                    inputRange: [0, 1],\n                    outputRange: [16, 0],\n                  }),\n                },\n              ],\n            },\n            overrides.labelContainer,\n          ]}\n        >\n          <Text\n            style={[\n              styles.label,\n              overrides.inputLabel,\n              {\n                color,\n              },\n            ]}\n            bold\n          >\n            {label}\n            {errorText ? '*' : ''}\n          </Text>\n        </Animated.View>\n      </TouchableWithoutFeedback>\n      {endEnhancer && (\n        <View style={styles.enhancerContainer}>{endEnhancer}</View>\n      )}\n      {!!errorText && (\n        <Text style={[styles.error, overrides.errorText]}>{errorText}</Text>\n      )}\n    </View>\n  )\n})\n\nconst styles = StyleSheet.create({\n  input: {\n    padding: 24,\n    borderWidth: 1,\n    borderRadius: 4,\n    fontSize: 16,\n  },\n  labelContainer: {\n    position: 'absolute',\n    paddingHorizontal: 8,\n    backgroundColor: 'white',\n  },\n  label: {\n    fontSize: 14,\n  },\n  enhancerContainer: {\n    position: 'absolute',\n    top: 12,\n    right: 16,\n  },\n  error: {\n    marginTop: 4,\n    marginLeft: 12,\n    fontSize: 12,\n    color: '#B00020',\n  },\n})\n\nexport default TextField\n"]}